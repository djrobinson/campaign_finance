<div *ngIf="isRequesting" class="spinner-container">
  <spinner [isRunning]="isRequesting">
  </spinner>
</div>
<div class="cand-style">
  <div class="three columns choices">
    <div *ngIf="isCandidate" class="cand-pic text-center">
      <img [src]="imageVar?.image" alt="picture">
      <h5>{{candidate?.CANDIDATE_NAME}}</h5>
      <p>Party: {{candidate?.PARTY}}</p>
      <p>Office: {{candidate?.CANDIDATE_OFFICE}}</p>
      <p>FEC ID: {{candidate?.CANDIDATE_ID}}</p>
      <p>Hometown: {{candidate?.CITY}}, {{candidate?.STATE}}</p>
    </div>
    <div *ngIf="!isCandidate" class="cand-pic text-center">
      <h5>{{candidate?.com_nam}}</h5>
      <p>Designation: {{candidate?.com_des}}</p>
      <p>Type: {{candidate?.com_typ}}</p>
      <p>FEC ID: {{candidate?.com_id}}</p>
      <p>Address: {{candidate?.add}}</p>
      <p>Home City: {{candidate?.cit}}</p>
    </div>
    <div class="cand-options">
      <div class="cand-option six-columns"
        (click)="choice('main')"
        [class.active]="selection==='main'"
        >
        <p>Main Info</p>
      </div>
      <div class="cand-option"
        (click)="choice('opex')"
        [class.active]="selection==='opex'"
        >
        <p>Committee Opex</p>
      </div>
      <div *ngIf="isCandidate" class="cand-option"
        (click)="choice('superpacs')"
        [class.active]="selection==='superpacs'"
        >
        <p>SuperPac Expenditures</p>
      </div>
      <div class="cand-option"
        (click)="choice('individuals')"
        [class.active]="selection==='individuals'"
        >
        <p>Individual Donors</p>
      </div>
      <div class="cand-option"
        (click)="choice('committees')"
        [class.active]="selection==='committees'"
        >
        <p>Committee Donors</p>
      </div>
    </div>
  </div>
  <div class="nine columns main-content">
    <individuals-section
      *ngIf="selection==='individuals'"
      [cmte]="committee">
    </individuals-section>
    <committees-section
      *ngIf="selection==='committees'"
      [cmte]="committee">
    </committees-section>
    <superpacs-section
      *ngIf="selection==='superpacs'"
      [cand]="candidate">
    </superpacs-section>
    <opex-section
      *ngIf="selection==='opex'"
      [cmte]="committee">
    </opex-section>

    <div class="innards">
      <div class="four columns pies">

        <size-pie [cmte]="committee"></size-pie>

        <type-pie></type-pie>

        <dsgn-pie></dsgn-pie>
      </div>
      <div class="eight columns candidate-content">
        <div *ngIf="!isRequesting" (click)="close()" class="close-button">Ã—</div>
        <div class="twelve columns top-row">
            <div *ngIf="isCandidate" class="header">
              <h2>{{primaryCmte?.CMTE_NM}} <a [href]="candidate?.lin_ima"><img src="images/fec.png" class="fec" /></a></h2>
            </div>
            <div *ngIf="!isCandidate"class="header">
              <h5>{{candidate?.com_nam}} <a [href]="candidate?.lin_ima"><img src="images/fec.png" class="fec" /></a></h5>
            </div>
            <table>
              <tr>
                <td colspan="2" class="heading">Receipts</td>
                <td colspan="2" class="heading">Disbursements</td>
              </tr>
              <tr>
                <td>Itemized Individual Contributions</td>
                <td>{{parseFloat((candidate?.ind_ite_con) ? candidate?.ind_ite_con : 0.00) | currency:'USD':true}}</td>
                <td>Operating Expenditures</td>
                <td>{{parseFloat((candidate?.ope_exp) ? candidate?.ope_exp : 0.00) | currency:'USD':true}}</td>
              </tr>
              <tr>
                <td>Unitemized Individual Contributions</td>
                <td>{{parseFloat((candidate?.ind_uni_con) ? candidate?.ind_uni_con : 0.00) | currency:'USD':true}}</td>
                <td>Total Loan Repayments</td>
                <td>{{parseFloat((candidate?.tot_loa_rep) ? candidate?.tot_loa_rep : 0.00) | currency:'USD':true}}</td>
              </tr>
              <tr>
                <td>Total Individual Contributions</td>
                <td>{{parseFloat((candidate?.ind_con) ? candidate?.ind_con : 0.00) | currency:'USD':true}}</td>
                <td>Individual Refunds</td>
                <td>{{parseFloat((candidate?.ind_ref) ? candidate?.ind_ref : 0.00) | currency:'USD':true}}</td>
              </tr>
              <tr>
                <td>Party Committee Contributions</td>
                <td>{{parseFloat((candidate?.par_com_con) ? candidate?.par_com_con : 0.00) | currency:'USD':true}}</td>
                <td>Total Disbursements</td>
                <td>{{parseFloat((candidate?.tot_dis) ? candidate?.tot_dis : 0.00) | currency:'USD':true}}</td>
              </tr>
              <tr>
                <td>Other Committee Contributions</td>
                <td>{{parseFloat((candidate?.oth_com_con) ? candidate?.oth_com_con : 0.00) | currency:'USD':true}}</td>
                <td colspan="2" class="heading">Cash Summary</td>
              </tr>
              <tr>
                <td>Candidate Contributions</td>
                <td>{{parseFloat((candidate?.can_con) ? candidate?.can_con : 0.00 ) | currency:'USD':true}}</td>
                <td>Ending Cash on Hand</td>
                <td>{{parseFloat((candidate?.cas_on_han_clo_of_per) ? candidate?.cas_on_han_clo_of_per : 0.00 ) | currency:'USD':true}}</td>
              </tr>
              <tr>
                <td>Total Contributions</td>
                <td>{{parseFloat((candidate?.con) ? candidate?.tot_con : 0.00 ) | currency:'USD':true}}</td>
                <td>Total Loans</td>
                <td>{{parseFloat((candidate?.tot_loa) ? candidate?.tot_loa : 0.00 ) | currency:'USD':true}}</td>
              </tr>
            </table>
        </div>
        <div class="twelve columns bottom-row">

          <bar-chart
            [cmte]="committee"
            class="twelve columns">
          </bar-chart>
        </div>

      </div>
    </div>
  </div>
</div>